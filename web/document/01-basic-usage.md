# 基本用法

## 安装

如果您还没有安装Composer，请移步至[入门](00-intro.md)章节.

## `composer.json`: 项目配置文件

在您的项目中开始使用Composer,您只需创建一个 `composer.json`文件，这个文件描述您项目的依赖关系以及其他的元数据。

[JSON格式](http://json.org/)能让您非常简单的定义嵌套结构（做前端的朋友应该会特别熟悉）。

###  `require` 键

在`composer.json`文件中，首先(也可能是唯一)要做的事是定义`require`键，即告诉Composer您的项目依赖于哪个包。

```json
{
    "require": {
        "monolog/monolog": "1.0.*"
    }
}
```

正如您在上面例子中看到的， `require`传入的是一个对象，这个对象映射一个包名（如`monolog/monolog`）到包对应的版本号（如`1.0.*`）。

### 包名

包名由发布商（Vendor）和项目名组成，它们通常是唯一的——发布商名称主要就是为了避免重名冲突。比如，它可以让两个人（igorw和seldaek）都创建一个名字叫 `json`的库，他们两个人最终生成的包的名称是`igorw/json`和`seldaek/json`。

上面的例子，我们的项目依赖 `monolog/monolog`,发布商名和项目名相同。推荐对每一个项目起一个唯一的发布商名字，后续，我们还可以在同一个发布商命名空间下添加更多相关的项目。如果您维护一个库，这将能让您非常方便的将它们分成低耦合的各个模块。

### 包版本号

在刚刚例子中，我们依赖的是monolog的 `1.0.*`版本，这意味着可以是`1.0`开发分支的任何版本，可能是`1.0.0`,`1.0.2` 或者`1.0.20`。

版本号有几种不同的标注方式：

### 下一个有效发布版Next Significant Release (“~”和“^”操作符)

`~`操作符可以通过下面的例子很好的解释：`~1.2`相当于`>=1.2 <2.0.0`，`~1.2.3` 等于 `>=1.2.3 <1.3.0`。
正如您所看到的，`~`操作符将对[语义化版本](http://semver.org/)项目非常有用。一个常见的功能就是用来标记
依赖库的最低版本，比如`~1.2`（要求不小于1.2版本,但是低于2.0),因为理论上2.0之前的版本应该能够正常运行，不会存在兼容性问题。
`~`操作符另外一种常见的用法是指定最低版本号，但是允许版本号的最后一位上升。

 `^`操作符更接近语义化版本规则，它一直支持不间断更新。例如`^1.2.3`等于`>=1.2.3 <2.0.0` ，因为在理论上，在1.2.3到2.0版本之前没有不兼容的版本。
 对于1.0之前的版本，处于安全性考虑，将`^0.3`解析成 `>=0.3.0 <0.4.0`。

> **注意：** 虽然`2.0-beta.1`严格意义上讲要小于`2.0`版本，但是像 `~1.2`这样的版本约束却并不会安装`2.0-beta.1`版，因为正如我们上文所说，`~1.2`意味着
>只有`.2`可以改变，`1.`是固定不变的。

> **注意:**  `~`对于直接加主版本号做了特殊处理，比如`~1`等同于`~1.0`因为它不允许提高主版本号的值以保持项目的兼容性。
